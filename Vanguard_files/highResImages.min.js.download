(function(){var a=ps.declarePackage("ps.highResImages");
var b={};
b.addCachedHoverImg=function(c){$("body").append('<img class="hidden" src="'+c+'" />')
};
b.handleHighResolutionImages=function(){var c=$("img[data-src]"),e=c.length;
for(var d=0;
d<e;
d++){var g=$(c.get(d));
if(b.isHighResolutionDisplay()){b.setImageSrc(g,"data-high-res-src");
var f=g.attr("data-hover-high-res-src");
if(typeof f!=="undefined"){b.addCachedHoverImg(f)
}}else{b.setImageSrc(g,"data-src");
var h=g.attr("data-hover-src");
if(typeof h!=="undefined"){b.addCachedHoverImg(h)
}}}$(".hoverHighRes").hover(function(){var i=$(this);
if(b.isHighResolutionDisplay()){b.setImageSrc(i.children("img"),"data-hover-high-res-src")
}else{b.setImageSrc(i.children("img"),"data-hover-src")
}},function(){var i=$(this);
if(b.isHighResolutionDisplay()){b.setImageSrc(i.children("img"),"data-high-res-src")
}else{b.setImageSrc(i.children("img"),"data-src")
}});
$("img[data-src], a.hoverHighRes").css({visibility:"visible"})
};
$(function(){b.handleHighResolutionImages()
});
b.isHighResolutionDisplay=function(){var c=window.devicePixelRatio;
if(typeof c==="undefined"){return false
}return c>1
};
b.setImageSrc=function(d,c){if(typeof d.attr(c)!=="undefined"){d.attr("src",d.attr(c))
}};
a.isHighResolutionDisplay=b.isHighResolutionDisplay;
a.handleHighResolutionImages=b.handleHighResolutionImages;
$(document).on("afterupdate",function(){b.handleHighResolutionImages()
})
}());